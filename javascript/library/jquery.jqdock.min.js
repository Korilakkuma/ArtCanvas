/*
 jquery.jqdock.js v2.0.2, by Wizzud
*/
(function(f,S){if(!f.jqDock){var C=["Top","Right","Bottom","Left"],T=["Major","Minor"],n=[],y=f.map("ed Item Mouse Label Filter Expand Wrap List ".split(" "),function(a,b){n[b]="jqDock"+a;return"."+n[b]}),q=["JQDOCK","JQDOCK_conv","JQDOCK_li","JQDOCK_list"],K=["mouseenter","mousemove","mouseleave"],D=["docknudge","dockidle","dockfreeze"],x=["Idler","Inactive","Indock","Overdock","Offdock"],t={v:{wh:"height",xy:1,tl:"top",lead:0,trail:2,inv:"h"},h:{wh:"width",xy:0,tl:"left",lead:3,trail:1,inv:"v"}},
L=[0,0],E=S.setTimeout,z=function(a){return a.data(q[0])},fa=function(){return!1},I=function(a){return f(a).parent().children(y[1]).index(a)},M=function(a,b,c,d){var e={},g=t[c.inv].wh;d=!d||a[c.wh]>b;e[c.wh]=d?b:a[c.wh];e[g]=d?Math.round(b*a[g]/a[c.wh]):a[g];return e},A=function(a,b){return f(a).closest(y[b||0])},U=function(a){var b={},c,d;for(c in a)(d=c.match(/^jqdock([A-Z])([a-zA-Z]+)$/))&&(b[d[1].toLowerCase()+d[2]]=a[c]);return b},G=function(a){a=parseInt(a,10);return isNaN(a)?0:a},B=function(a,
b){for(var c=x[b]?b+1:x.length;b<c&&c--;)a[x[c]]&&(S.clearTimeout(a[x[c]]),a[x[c]]=null)},V=function(){var a=f(this),b=a.attr("id")||"",c=a.data(q[1]),d=a.children("li").map(function(){var a=f("img",this).eq(0),b=a.parent("a");return b.length?a.siblings().length?null:b[0]:a.get(0)}),e=b?{id:b}:{},g;if(!a.length||!d.length)return this;if(c)return c;if(g=a.attr("style"))e.style=g;g=f("<div/>").addClass(n[7]).data("jqdock",f.extend({},a.data("jqdock"),U(a.data()))).data(q[3],{el:this,attr:e});a.hide().removeAttr("id");
d.each(function(){f(this).data(q[2],f("<span/>").insertBefore(this)[0]).appendTo(g)});g.attr("id",b).insertBefore(a);a.data(q[1],g[0]);return g[0]},N=function(a){var b=f.now();a=a?a.Stamp+a.Opts.duration:0;a>b&&(b-=a-b);return b},W=function(a){var b=a.data;a=z(f(b.menu));var c,d;a&&(c=a.Elem[b.idx],d=a.Opts,d.sizeMax?f.extend(c,M(this,d.sizeMax,t[t[d.vh].inv]),d.capSizing):(c.width=this.width,c.height=this.height),--a.Load||E(function(){f.jqdock.init(b.menu)},0))},X=function(a,b,c){b.Item.toggleClass(n[5],
!c);a.Menu.trigger("dockitem",[b.Img[0],!c])},ga=function(){f(this).prev("img").triggerHandler("click")},F=function(a,b){var c=a.Elem[a.Current];c&&(a.Opts.labels&&!a.Opts.permanentLabels)&&c.Label.el.toggle(!!b)},Y=function(a){var b=t[a.Opts.vh],c=-1,d=L[b.xy]-a.Elem[0].Item.offset()[b.tl],e,g,f,h;if(0<=d)for(e=0;0>c&&e<a.ElCt;e++)g=a.Elem[e],f=g.Pad[b.lead]+g.Pad[b.trail],h=g.Major+f,d<h?(e!==a.Current&&(F(a),a.Current=e),c=g.Offset+d*(g.Initial+f)/h):d-=h;return c},Z=function(a){for(var b=a.childNodes.length,
c;b;)c=a.childNodes[--b],(c.childNodes||[]).length?Z(c):3===c.nodeType&&a.removeChild(c)},$=function(a){a.css({visibility:"visible"}).show()},J=function(a){var b=a.Opts.idle;b&&(B(a,0),a[x[0]]=E(function(){a.Menu.trigger(D[1])},b))},O=function(a,b){var c=a.Opts,d=t[c.vh].wh,e=a.ElCt,g,f,h;for(b=b||0===b?b:Y(a);e--;)g=a.Elem[e],h=g.Initial,0<=b&&(f=Math.abs(b-g.Centre),f<c.distance&&(h=g[d]-Math.round((g[d]-g.Initial)*Math.pow(f,c.coefficient)/c.attenuation)),e===a.Current&&!c.noAntiFlutter&&(f=[L[t[c.vh].xy],
a.Current,h].join(),f===a.ToFro[0]&&h!==a.ToFro[2]?h=a.ToFro[2]:a.ToFro=[a.ToFro[1],f,h])),g.Final=h},ha=function(a){return a},ba=function(a,b,c,d){var e=a.Elem[b],g=a.Opts,v=a.Yard,h=a.Border,l=t[g.vh],j=t[l.inv],m=g.labels,n=a.Elem[a.Current],u=e.src!==e.altsrc,s,p,w,k,r,aa;if(d||e.Major!==c){s=f.boxModel||"v"===g.vh?0:h[l.lead]+h[l.trail];!d&&e.Major===e.Initial&&(u&&(e.Img[0].src=e.altsrc),X(a,e));a.Spread+=c-e.Major;p=M(e,c,l);w=g.size-p[j.wh];r={middle:1,center:1,top:2,left:2}[g.align]||0;1<
r?p["margin"+C[j.trail]]=w:r?(k=Math.round(w*(100-g.bias)/100),p["margin"+C[j.lead]]=w-k,p["margin"+C[j.trail]]=k):p["margin"+C[j.lead]]=w;if(c!==e.Major||d&&!b){if(g.flow)v.parent()[l.wh](a.Spread+h[l.lead]+h[l.trail]);v[l.wh](a.Spread+s)}e.Wrap.css(p);g.flow||v.css(l.tl,Math.floor(Math.max(0,(a[l.wh]-a.Spread)/2)));if(a.OnDock){if(n&&m){b=n.Label;g=b.el;if(b.mc)for(r in b.mc=0,t)for(aa in b[r]=g[t[r].wh](),{lead:1,trail:1})b[r]+=G(g.css("padding"+C[t[r][aa]]));"m"===m.charAt(0)&&g.css({top:Math.floor((n[T[j.xy]]-
b.v)/2)});"c"===m.charAt(1)&&g.css({left:Math.floor((n[T[l.xy]]-b.h)/2)})}a.Stamp||F(a,1)}e.Major=c;e.Minor=p[j.wh];!d&&c===e.Initial&&(u&&(e.Img[0].src=e.src),X(a,e,1))}},P=function(a){var b=a.Opts,c=t[b.vh],d=b.duration+b.step,e,g;a.Stamp&&(d=N()-a.Stamp,d>=b.duration&&(a.Stamp=0));if(d>=b.step){g=(b.duration-d)/b.step;for(b=0;b<a.ElCt;b++)d=a.Elem[b],e=(e=d.Final-d.Major)&&1<g?d.Major+Math[0>e?"floor":"ceil"](e/g):d.Final,ba(a,b,e);a.Spread>a[c.wh]&&(a.Yard.parent()[c.wh](a.Spread+a.Border[c.lead]+
a.Border[c.trail]),a[c.wh]=a.Spread)}},Q=function(a,b){var c=a.Elem,d=c.length;B(a,2);if(a.OnDock&&!a.Stamp){for(O(a,b);d&&c[d-1].Major===c[d-1].Final;)--d;d?(P(a),a[x[2]]=E(function(){Q(a,b)},a.Opts.step)):F(a,1)}},ca=function(a,b){var c=a.Elem,d=c.length;if(!a.OnDock){for(;d&&c[d-1].Major<=c[d-1].Initial;)--d;Y(a);if(d)P(a),a[x[4]]=E(function(){ca(a,b)},a.Opts.step);else{a.Stamp=0;for(d=c.length;d--;)c[d].Major=c[d].Final=c[d].Initial;a.Current=-1;b||J(a)}}},da=function(a,b){var c=a.Elem,d=c.length;
if(a.OnDock){for(O(a,b);d&&c[d-1].Major===c[d-1].Final;)--d;!d||!a.Stamp?(a.Stamp=0,Q(a,b)):(P(a),a[x[3]]=E(function(){da(a,b)},a.Opts.step))}},H=function(a,b,c,d){var e=b.Elem,g=e.length;0===a&&(b.OnDock=1,0<=b.Current&&b.Current!==c&&F(b),b.Current=c,b.Stamp=d&&1<d?0:N(b),da(b,d?e[c].Centre:null));1===a&&(c!==b.Current&&(F(b),b.Current=c),Q(b));if(2===a){B(b,1);b.OnDock=0;F(b);for(b.Stamp=N(b);g--;)e[g].Final=e[g].Initial;ca(b,!!d)}},ea=function(a){var b=z(A(this)),c=I(this),d=-1,e;b&&(b.Asleep?
b.Opts.noBuffer||(b.Doze={El:this,type:a.type,pageX:a.pageX,pageY:a.pageY}):(e=b.OnDock,B(b,0),L=[a.pageX,a.pageY],a.type===K[2]?e?d=2:J(b):(b.Opts.inactivity&&(B(b,1),b[x[1]]=E(function(){H(2,b,c,1)},b.Opts.inactivity)),a.type===K[1]?0>c?e&&0<=b.Current&&(d=2):d=!e||0>b.Current?0:1:0<=c&&!e&&(d=0)),b.Doze=null,0<=d&&H(d,b,c)))},R=function(a){var b=f(this),c=z(b),d=a.type===D[2],e=d?"freeze":"sleep";if(c)if(a.type===D[0])e=c.Frozen?"thaw":"wake",c.Asleep&&(c.Asleep=!1===c.Opts.onWake.call(this,e),
c.Asleep||(c.Frozen=!b.trigger("dockwake",[e]))),c.Asleep||(J(c),(b=c.Doze)&&ea.call(b.El,b));else if(B(c,0),a=!c.Asleep||d&&!c.Frozen,!a||!1!==c.Opts.onSleep.call(this,e))c.Asleep=!B(c,d?-1:1),c.Frozen=c.Frozen||d,a&&b.trigger("docksleep",[e]),d?c.Stamp=c.OnDock=0:H(2,c,0,1)};f.jqdock=f.jqDock={version:"2.0.2",defaults:{size:48,sizeMax:0,capSizing:0,distance:72,coefficient:1.5,duration:300,align:"bottom",labels:0,source:0,loader:0,inactivity:0,fadeIn:0,fadeLayer:"",step:50,setLabel:0,flow:0,idle:0,
onReady:0,onSleep:0,onWake:0,noBuffer:0,active:-1,bias:50,noAntiFlutter:0,permanentLabels:0},nextId:0,useJqLoader:!f.browser||f.browser.opera||f.browser.safari,init:function(a){var b=f(a),c=z(b),d=c.Opts,e=t[d.vh],g=t[e.inv],v=c.Border,h=d.fadeLayer,l=d.labels,j=c.ElCt,m=f("<div/>").css({position:"relative",padding:0}),q=m.clone().css({margin:0,border:"0 none",backgroundColor:"transparent"}),u=0,s=0,p,w,k,r;Z(a);for(b.children().each(function(a,b){var e=c.Elem[a].Wrap=f(b).wrap(q.clone().append(q.clone())).parent();
"h"===d.vh&&e.parent().css("float","left");f("*",e).css({position:"relative",padding:0,margin:0,borderWidth:0,borderStyle:"none",verticalAlign:"top",display:"block",width:"100%",height:"100%"})});s<j;)k=c.Elem[s++],p=k.Pad,r=M(k,d.size,g,d.capSizing),k.Major=k.Final=k.Initial=r[e.wh],k.Item=k.Wrap.css(r).parent(),k.Img.attr({alt:""}).parent("a").andSelf().removeAttr("title"),c[g.wh]=Math.max(c[g.wh],d.size+p[g.lead]+p[g.trail]),k.Offset=u,k.Centre=u+p[e.lead]+k.Initial/2,u+=k.Initial+p[e.lead]+p[e.trail];
for(s=0;s<j;)for(w in k=c.Elem[s++],p=k.Pad[e.lead]+k.Pad[e.trail],c.Spread+=k.Initial+p,{Centre:1,Offset:1}){O(c,k[w]);u=0;for(g=j;g--;)u+=c.Elem[g].Final+p;u>c[e.wh]&&(c[e.wh]=u)}for(;s;)k=c.Elem[--s],k.Final=k.Initial;b.wrapInner(m.addClass(n[6]).append(q.attr({id:c.Id,"class":n[8],style:""}).css({position:"absolute",top:0,left:0,padding:0,margin:0,overflow:"visible",height:c.height,width:c.width})));e=c.Yard=f("#"+c.Id);for(g=4;g--;)v[g]=G(e.css("border"+C[g]+"Width"));for(v=e.parent().width(c.width+
v[1]+v[3]).height(c.height+v[0]+v[2]);s<j;)k=c.Elem[s],p=k.Item.css("padding",k.Pad.join("px ")+"px"),ba(c,s,k.Final,!0),p.addClass(n[1]).add(k.Img).addClass(n[2]+s),p=k.Label,p.el=f("<div/>").css({position:"absolute",margin:0}).addClass(n[3]+" "+n[3]+k.Link).insertAfter(k.Img).hide().on("click",ga),l&&(m="b"===l.charAt(0),w="r"===l.charAt(1),p.el.css({top:m?"auto":0,left:w?"auto":0,bottom:m?0:"auto",right:w?0:"auto"})),k=d.setLabel.call(a,k.Title,s,p.el[0]),!1!==k&&f("<div/>").addClass(n[3]+"Text").html(k.toString()).appendTo(p.el),
l&&d.permanentLabels&&p.el.show(),++s;k=b.on(D.join(" "),R);e.on(K.join(" "),y[1],ea).find("*").css({filter:"inherit"});c.Elem[d.active]&&H(0,c,d.active,2);c.Asleep=!1===d.onReady.call(a,"ready");c.Asleep||(h?("menu"!==h&&(k="dock"===h?e:v),c.Asleep=!!f(y[8]+","+y[6],k).addClass(n[4]).css({filter:"inherit"}),k.css({opacity:0}),$(b),k.animate({opacity:1},d.fadeIn,function(){var a=A(this);z(a).Asleep=!f(y[4],this).add(this).css({filter:""}).removeClass(n[4]);a.trigger("dockshow",["ready"]).trigger(D[0])})):
($(b),b.trigger("dockshow",["ready"]),J(c)))},convert:function(a){return V.call(f(a).get(0))}};f.fn.jqdock=f.fn.jqDock=function(a){var b=this,c,d;"nudge"===a||"idle"===a||"freeze"===a?b.filter(y[0]).each(function(){R.call(this,{type:"dock"+a})}):"destroy"===a?b=b.map(function(){var a=f(this).filter(y[0]),b=z(a.removeClass(n[0])),c=f.extend({},a.data(q[3])),d,l,j,m;if(a.length&&b){a.removeData(q[0]);B(b,-1);a.off(D.join(" "),R);for(d=0;d<b.ElCt;d++)for(l in j=b.Elem[d],(j.Label.el||f()).remove(),m=
j.Img,m.attr(j.Orig.i).removeClass(n[2]+d),j.Orig.i.style||m.removeAttr("style"),"Link"===j.Link&&(m=m.parent(),m.attr(j.Orig.a),j.Orig.a.style||m.removeAttr("style")),c.el?f(m.data(q[2])).after(m).remove():a.append(m),j.Label.el=j.Orig.i=j.Orig.a=null,j)j[l]=null;f(y[6],a).empty().remove();l=b.Style;c.el?(a.empty().remove(),j=f(c.el).removeData(q[1]).attr(c.attr),c.attr.style||j.removeAttr("style")):l?a.attr("style",l):a.removeAttr("style");for(d in b)b[d]=null}return c.el||this}):"active"===a||
"expand"===a?b.each(function(){var b=A(this,1),c=A(b),d=z(c);d&&(B(d,-1),d.Frozen||(d.Frozen=d.Asleep=!!c.trigger("docksleep",["freeze"])),H(0,d,I(b),"active"===a?2:1))}):"get"===a?(b=b.eq(0),c=b.is("img"),b=((d=z(c?A(b):b))&&c?d.Elem[I(A(b,1))]:d)||null):b.length&&!b.not("img").length?b.each(function(b,c){var d=z(A(c)),d=d?d.Elem[I(A(c,1))]:0,h=0,l,j,m;a=a||{};if(d){l=d.Major===d.Initial;for(m in{src:1,altsrc:1})a[m]&&(j=(f.isFunction(a[m])?a[m].call(c,d[m],m):a[m]).toString(),d[m]!==j&&(d[m]=j,
h=("src"===m?l:!l)?m:h));h&&f(c).attr("src",d[h])}}):b=b.map(V).filter(function(){var a=f(this).children();return!A(this).length&&a.length&&!a.not("img").filter(function(){return 1!==f(this).children("img").parent("a").children().length}).length}).each(function(){var b=f(this).addClass(n[0]),c=f("img",b),d={Menu:b,Id:n[8]+f.jqdock.nextId++,Elem:[],OnDock:0,Stamp:0,width:0,height:0,Spread:0,Border:[],Opts:f.extend({},f.jqdock.defaults,b.data("jqdock"),U(b.data()),a||{}),Current:-1,Load:c.length,ElCt:c.length,
ToFro:["","",0],Style:b.attr("style")},h=d.Opts,l,j;for(j in{size:1,distance:1,duration:1,inactivity:1,fadeIn:1,step:1,idle:1,active:1,sizeMax:1})h[j]=G(h[j]);j=1*h.coefficient;h.coefficient=isNaN(j)?1.5:j;if(l={middle:1,center:2}[h.align])j=G(h.bias),1>j&&(h.align=2>l?"top":"left"),99<j&&(h.align=2>l?"bottom":"right"),h.bias=j;h.labels&&!/^[tmb][lcr]$/.test(h.labels.toString())&&(h.labels={top:"br",left:"tr"}[h.align]||"tl");h.setLabel||(h.setLabel=ha);h.fadeLayer=h.fadeIn?{dock:1,wrap:1}[h.fadeLayer]?
h.fadeLayer:"menu":"";for(j in{onSleep:1,onWake:1,onReady:1})h[j]||(h[j]=!1===h[j]?fa:f.noop);l=/^m|c$/.test(h.labels);h.attenuation=Math.pow(h.distance,h.coefficient);h.vh={left:1,center:1,right:1}[h.align]?"v":"h";b.data(q[0],d);c.each(function(a,c){var g=f(c),j=g.parent("a"),p=j.attr("title")||"",n={},k,r,q;for(k in{src:1,alt:1,title:1,style:1})n[k]=g.attr(k)||"";q=(h.source?h.source.call(c,a):"")||g.data("jqdockAltsrc")||""||(/\.(gif|jpg|jpeg|png)$/i.test(n.alt||"")?n.alt:"")||n.src;d.Elem[a]=
{Img:g,src:n.src,altsrc:q,Title:n.title||p||"",Orig:{i:f.extend({},n),a:{title:p,style:j.attr("style")||""}},Label:{mc:l},Pad:[],Link:j.length?"Link":"Image"};for(k=4;k--;)d.Elem[a].Pad[k]=G(g.css("padding"+C[k]));(h.loader?"jquery"===h.loader:f.jqdock.useJqLoader)?f("<img>").on("load",{idx:a,menu:b[0]},W).attr({src:q}):(r=new Image,r.onload=function(){W.call(this,{data:{idx:a,menu:b[0]}});r.onload="";r=null},r.src=q)})}).end();return b}}f(function(){f(".jqDockAuto").jqdock()})})(jQuery,window);