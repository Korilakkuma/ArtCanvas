{"version":3,"file":"ArtCanvas.min.js","sources":["ArtCanvas.js"],"names":["global","ArtCanvas","container","canvas","width","height","callbacks","this","document","body","HTMLElement","style","position","top","left","zIndex","w","parseInt","h","DEFAULT_SIZES","WIDTH","HEIGHT","mode","Mode","HAND","figure","Figure","RECTANGLE","textStyle","TextStyle","Font","Color","toString","transform","Transform","TRANSLATE","layers","push","Canvas","length","activeLayer","drawstart","drawmove","drawend","setCallbacks","imagedata","isDown","self","_figure","activeCanvas","activeContext","type","x","y","test","canvasElement","getCanvas","getImageData","points","popPath","point","pop","pushPath","putImageData","getX","getY","offset","Point","getOffsetPoint","beginPath","rect","stroke","fill","Rectangle","CIRCLE","centerX","centerY","radius","getDistance","arc","Math","PI","Circle","LINE","moveTo","lineTo","Line","_transform","amounts","SCALE","scaleX","scaleY","offsetX","offsetY","ROTATE","radian","atan2","degree","addEventListener","MouseEvents","START","event","TOOL","getContext","ERASER","globalCompositeOperation","getOffsetX","getOffsetY","FIGURE","TEXT","createTextbox","TRANSFORM","MOVE","preventDefault","Eraser","END","increaseHistoryPointer","prototype","getContainerWidth","getContainerHeight","Object","call","key","getMode","setMode","m","String","toLowerCase","addLayer","drawText","getActiveLayer","validateLayerNumber","layerNumber","n","selectLayer","showLayer","visibility","hideLayer","removeLayer","splice","parentNode","removeChild","undo","redo","clear","getFillStyle","fillStyle","setFillStyle","redraw","getStrokeStyle","strokeStyle","setStrokeStyle","getLineWidth","lineWidth","setLineWidth","getLineCap","lineCap","setLineCap","getLineJoin","lineJoin","setLineJoin","getShadowColor","shadowColor","setShadowColor","getShadowBlur","shadowBlur","setShadowBlur","getShadowOffsetX","setShadowOffsetX","getShadowOffsetY","setShadowOffsetY","getGlobalAlpha","alpha","setGlobalAlpha","getTextStyle","setTextStyle","getFigure","setFigure","f","getTransform","setTransform","t","translate","translateX","translateY","scale","rotate","drawImage","src","pickColor","color","filter","format","callback","exportedCanvas","createElement","exportedContext","canvases","layerPointer","draw","i","len","toDataURL","loadImage","$","Drawable","context","getCenterPoint","click","start","move","end","navigator","userAgent","CLICK","Tool","DROPPER","BUCKET","red","green","blue","r","g","b","a","parseFloat","isNaN","getRed","getGreen","getBlue","getAlpha","rgba","toHexString","hex","pointX","pointY","point1","point2","sqrt","pow","l","create","constructor","getLeft","getTop","getRight","getBottom","getLeftTop","getRightBottom","right","bottom","getWidth","getHeight","getSize","cx","cy","getCenterX","getCenterY","getCenter","getRadius","startPoint","endPoint","getStartPoint","getEndPoint","minX","min","minY","maxX","max","maxY","Text","text","font","family","size","weight","getText","getPoint","getFont","getColor","heldColor","getFontString","fillText","fontSize","measureText","getFamily","getStyle","getWeight","DrawableImage","onloadCallback","image","Image","onload","Filter","NONE","toUpperCase","Array","isArray","REDEMPHASIS","GRAYSCALE","REVERSE","NOISE","BLUR","getType","getAmounts","none","input","redemphasis","output","data","floor","grayscale","mean","reverse","noise","random","p","blur","NUMBER_OF_ELEMENTS","indexs","sum","num","j","c","createImageData","HTMLCanvasElement","appendChild","setAttribute","globalAlpha","paths","historyPointer","transforms","skew","getPaths","path","getHistoryPointer","slice","isTransform","textbox","querySelector","HTMLInputElement","value","centerPoint","translates","scales","dx","dy","sx","sy","rotateMatrix","cos","sin","save","apply","arguments","restore","clearRect","clearPaths","undefined","Boolean","shadowOffsetX","shadowOffsetY","Event","pageX","touches","changedTouches","scrollLeft","offsetLeft","pageY","scrollTop","offsetTop","Number","MAX_VALUE","outline","padding","picks","startX","startY","getPixelPosition","setPixelPosition","isMatchColor","paintHorizon","scanHorizon","buffer","baseColor","startPixelPosition","positions","window"],"mappings":"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"}